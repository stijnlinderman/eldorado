/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package eldorado.domain;

public class Game {
	
	private MapConfiguration map;
	private int winningPawnId = 0;
			
	public Game (int mapConfigurationId) {
		this.map = new MapConfiguration(mapConfigurationId);
	}
	
	public Game (String[][] mapConfiguration) {
	this.map = new MapConfiguration(mapConfiguration);
	}
	
	public MapConfiguration getMap () {
		return this.map;
	}
	
	public boolean canPawnMoveFromFieldToField (int pawnId, Field pawnCurrentField, Field pawnFieldToMoveTo) {
		if (pawnCurrentField != null && pawnFieldToMoveTo != null && pawnFieldToMoveTo.type != FieldTypes.mountain) {
			return true;
		} else {
			return false;
		}
	}
	
	public void processPossibleWin (Field newlyOccupiedField) {
		if (newlyOccupiedField.isOccupied() && newlyOccupiedField.type == "eldorado") {
			this.setWinningPawnId(newlyOccupiedField.getPawnId());
		}
	}
	
	public void setWinningPawnId (int winningPawnId) {
		this.winningPawnId = winningPawnId;
	}
	
	public int getWinningPawnId () {
		return this.winningPawnId;
	}
}